(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8621:function(e,t,o){"use strict";o.d(t,{Z:function(){return l}});const l=(0,o(1373).Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1408:function(e,t,o){"use strict";o.d(t,{Z:function(){return l}});const l=(0,o(1373).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5557:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(8717)}])},8717:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return h}});var l=o(5893),a=o(7294),n=o(1163),r=o(1408),c=o(1373);const s=(0,c.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),i=(0,c.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),d=(0,c.Z)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var x=o(8621);const m=(0,c.Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var u,b=o(7642);function p(e){var t=e.isOpen,o=(e.onClose,e.onResume),a=e.onAbandon;return t?(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-70 animate-in fade-in duration-300 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] w-full max-w-md border border-white border-opacity-20 z-10 text-center",children:[(0,l.jsx)("h2",{className:"text-2xl md:text-3xl font-black text-red-900 uppercase italic mb-4",children:"Partita in corso"}),(0,l.jsx)("p",{className:"text-lg md:text-xl font-bold text-red-800 mb-6",children:"Vuoi continuare la partita in corso o abbandonarla?"}),(0,l.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,l.jsx)("button",{onClick:a,className:"bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-2xl font-bold transition-all shadow-xl active:scale-95",children:"Abbandona"}),(0,l.jsx)("button",{onClick:o,className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-2xl font-bold transition-all shadow-xl active:scale-95",children:"Riprendi"})]})]})}):null}function h(){var e=(0,n.useRouter)(),t=(0,a.useState)(""),o=t[0],c=t[1],h=(0,a.useState)(null),f=h[0],g=h[1],w=(0,a.useState)(1),y=w[0],v=w[1],N=(0,a.useState)(!1),j=N[0],k=N[1],_=(0,a.useState)(!1),I=_[0],S=_[1],A=(0,a.useState)(!1),C=A[0],R=A[1],z=(0,a.useState)(null),Z=z[0],E=z[1],T=(0,a.useState)(!1),M=T[0],O=T[1];(0,a.useEffect)((function(){var e=localStorage.getItem("tombola_role"),t=localStorage.getItem("tombola_name");return e&&(R(!0),E(e),t&&c(t)),(u=(0,b.ZP)({transports:["websocket"]})).on("init-state",(function(e){k(e.tomboloneOccupied),S(e.gameStarted)})),u.on("tombolone-status",(function(e){k(e.occupied)})),u.on("game-started",(function(){S(!0)})),u.on("game-reset",(function(){S(!1),R(!1),E(null),localStorage.removeItem("tombola_role"),localStorage.removeItem("tombola_name"),localStorage.removeItem("tombola_cards")})),u.on("tombolone-abandoned",(function(){S(!1),R(!1),E(null),localStorage.removeItem("tombola_role"),localStorage.removeItem("tombola_name"),localStorage.removeItem("tombola_cards")})),function(){return u.disconnect()}}),[]);var P=function(){O(!0)};return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-b from-red-900 to-green-900 relative",children:[(0,l.jsxs)("div",{className:"text-center z-10",children:[(0,l.jsx)("h1",{className:"text-7xl md:text-9xl font-black text-yellow-400 mb-4 drop-shadow-[0_5px_15px_rgba(0,0,0,0.5)] tracking-tighter italic",children:"TOMBOLA"}),(0,l.jsx)("p",{className:"text-white text-xl md:text-2xl font-light tracking-widest mb-12 uppercase opacity-80",children:"Edizione Natalizia \ud83c\udf84"})]}),(0,l.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-blur-xl p-8 rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] w-full max-w-md border border-white border-opacity-20 z-10",children:[(0,l.jsx)("div",{className:"absolute top-4 right-4 z-20",children:(0,l.jsx)("button",{onClick:function(){return e.push("/impostazioni")},className:"p-3 rounded-full hover:bg-opacity-30 transition-all",children:(0,l.jsx)(r.Z,{className:"w-6 h-6 text-yellow-400"})})}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("label",{className:"flex items-center text-white text-sm font-bold mb-3 uppercase tracking-wider",children:[(0,l.jsx)(s,{className:"w-4 h-4 mr-2 text-yellow-400"}),"Il Tuo Nome"]}),(0,l.jsx)("input",{type:"text",placeholder:"Esempio: Mario",value:o,onChange:function(e){return c(e.target.value)},className:"w-full p-4 rounded-2xl bg-white bg-opacity-20 text-white border border-white border-opacity-10 focus:outline-none focus:ring-4 focus:ring-yellow-400/50 text-xl font-bold transition-all placeholder-white placeholder-opacity-30"})]}),(0,l.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,l.jsxs)("button",{onClick:function(){"tombolone"===Z?P():j||g("tombolone")},disabled:j&&"tombolone"!==Z,className:"flex-1 p-6 rounded-2xl font-bold transition-all flex flex-col items-center gap-3 border-2 relative ".concat(j&&"tombolone"!==Z?"opacity-50 cursor-not-allowed bg-gray-800":"tombolone"===f?"bg-yellow-400 text-red-900 border-yellow-300 scale-105 shadow-xl":"bg-white bg-opacity-10 text-white border-transparent hover:bg-opacity-20"),children:[j&&"tombolone"!==Z?(0,l.jsx)(i,{className:"w-8 h-8 text-red-500"}):(0,l.jsx)(d,{className:"w-8 h-8 ".concat("tombolone"===f?"text-red-900":"text-yellow-400")}),(0,l.jsx)("span",{children:"Tombolone"}),j&&"tombolone"!==Z&&(0,l.jsx)("span",{className:"text-[10px] uppercase text-red-400",children:"Gi\xe0 in uso"}),"tombolone"===Z&&(0,l.jsx)("span",{className:"text-[10px] uppercase text-yellow-400",children:"Riprendere partita"})]}),(0,l.jsxs)("button",{onClick:function(){"player"===Z?P():g("cartelle")},className:"flex-1 p-6 rounded-2xl font-bold transition-all flex flex-col items-center gap-3 border-2 ".concat("cartelle"===f?"bg-yellow-400 text-red-900 border-yellow-300 scale-105 shadow-xl":"bg-white bg-opacity-10 text-white border-transparent hover:bg-opacity-20"),children:[(0,l.jsx)(x.Z,{className:"w-8 h-8 ".concat("cartelle"===f?"text-red-900":"text-yellow-400")}),"Cartelle","player"===Z&&(0,l.jsx)("span",{className:"text-[10px] uppercase text-yellow-400",children:"Riprendere partita"})]})]}),"cartelle"===f&&(0,l.jsxs)("div",{className:"mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[(0,l.jsx)("label",{className:"block text-white text-sm font-bold mb-3 uppercase tracking-wider",children:"Quante cartelle vuoi?"}),(0,l.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[1,2,3,4,6].map((function(e){return(0,l.jsx)("button",{onClick:function(){return v(e)},className:"flex-shrink-0 w-12 h-12 rounded-xl font-bold transition-all ".concat(y==e?"bg-green-500 text-white shadow-lg":"bg-white bg-opacity-10 text-white"),children:e},e)}))})]}),(0,l.jsx)("button",{onClick:function(){if(C)"tombolone"===Z?e.push("/tombolone"):e.push("/cartelle");else if("tombolone"===f)e.push("/tombolone");else if("cartelle"===f){if(!o.trim())return alert("Inserisci il tuo nome!");e.push("/cartelle?num=".concat(y,"&name=").concat(encodeURIComponent(o)))}},disabled:!C&&(!f||"cartelle"===f&&!o||I),className:"w-full p-5 rounded-2xl font-black text-2xl transition-all flex items-center justify-center gap-3 ".concat(C||!I&&f&&("cartelle"!==f||o)?"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white shadow-[0_10px_20px_rgba(34,197,94,0.3)] cursor-pointer active:scale-95":"bg-gray-700 text-gray-400 cursor-not-allowed"),children:C?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{className:"w-6 h-6 fill-current"}),"RIPRENDI PARTITA"]}):I?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i,{className:"w-6 h-6"}),"GARA INIZIATA"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{className:"w-6 h-6 fill-current"}),"ENTRA IN GARA"]})}),(0,l.jsx)(p,{isOpen:M,onClose:function(){return O(!1)},onResume:function(){"tombolone"===Z?e.push("/tombolone"):e.push("/cartelle")},onAbandon:function(){localStorage.removeItem("tombola_role"),localStorage.removeItem("tombola_name"),localStorage.removeItem("tombola_cards"),R(!1),E(null),O(!1),"tombolone"===Z&&u.emit("tombolone-abandoned")}})]})]})}}},function(e){e.O(0,[416,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);